version: '3.8'

services:
  ksef-monitor:
    build: .
    container_name: ksef-invoice-monitor
    restart: unless-stopped
    
    volumes:
      # Mount main application file (for easy updates without rebuild)
      - ./main.py:/app/main.py:ro
      
      # Mount app folder with all modules (for easy updates without rebuild)
      - ./app:/app/app:ro
      
      # Configuration file - REQUIRED
      # Copy config.example.json to config.json and edit with your credentials
      - ./config.json:/data/config.json:ro
      
      # Persistent storage for tracking seen invoices
      - ./data:/data
    
    # Uncomment for debugging
    # logging:
    #   driver: "json-file"
    #   options:
    #     max-size: "10m"
    #     max-file: "3"

